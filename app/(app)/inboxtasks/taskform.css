:root { --brand: #8d2828; }

/* Карточка как в sign-in, но шире */
.tf-card {
  border-radius: 16px;
  background: rgba(255,255,255,0.75);
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(141,40,40,0.25);
  box-shadow:
    0 10px 30px rgba(17,24,39,0.10),
    inset 0 1px 0 rgba(255,255,255,0.6);
  padding: 20px 18px 18px;
}

/* Заголовок блока */
.tf-head { display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom: 8px; }
.tf-title { margin: 0; font-size: 22px; font-weight: 800; letter-spacing: .2px; }
.tf-subtitle { margin: 2px 0 0; color:#6b7280; font-size:14px; }
.tf-head-main { display:grid; gap:4px; }

/* Основа формы */
.tf-root { width: 100%; box-sizing: border-box; display:grid; gap: 12px; }

/* Лейблы и поля — единый стиль как в sign-in */
.tf-label { display: grid; gap: 6px; margin-bottom: 10px; }
.tf-label__text { font-weight: 700; font-size: 13px; color: #111827; }

.tf-input, .tf-textarea, .tf-select {
  width: 100%;
  padding: 10px 12px;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  background: rgba(255,255,255,0.9);
  color: #111827;
  font-size: 14px;
  outline: none;
  box-sizing: border-box;
  transition: box-shadow .15s ease, border-color .15s ease, background .15s ease;
}
.tf-textarea { min-height: 120px; resize: vertical; }
.tf-input:focus, .tf-textarea:focus, .tf-select:focus {
  border-color: var(--brand);
  box-shadow: 0 0 0 3px rgba(141,40,40,0.15);
  background: #fff;
}

.tf-3cols { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; }
@media (max-width: 920px) { .tf-3cols { grid-template-columns: 1fr; } }

/* Тумблеры + подпись сбоку */
.tf-switchRow { display:flex; align-items:center; gap:10px; cursor:pointer; user-select:none; }
.tf-switch {
  position: relative; display: inline-flex; align-items: center; justify-content: flex-start;
  width: 54px; height: 30px; border-radius: 999px; border: 1px solid #e5e7eb; background: #f3f4f6; padding: 3px; transition: all .15s ease;
}
.tf-switch.is-on, .tf-switch[aria-checked="true"] { border-color: rgba(141,40,40,.4); background: rgba(141,40,40,.1); justify-content: flex-end; }
.tf-switch__thumb { width: 24px; height: 24px; border-radius: 50%; background: #e5e7eb; box-shadow: 0 1px 2px rgba(0,0,0,.1); transition: background .15s ease; }
.tf-switch.is-on .tf-switch__thumb, .tf-switch[aria-checked="true"] .tf-switch__thumb { background: var(--brand); }
.tf-switchText { font-weight: 700; font-size: 13px; color: #111827; }

.tf-preview { margin-top: 8px; font-size: 13px; color: #374151; }

/* Складывание всей формы */
.tf-collapsibleAll { overflow: hidden; transition: max-height .24s ease, opacity .18s ease; }
.tf-collapsibleAll.is-open { max-height: 4000px; opacity: 1; }
.tf-collapsibleAll.is-collapsed { max-height: 0; opacity: .0; }

/* Низ формы: сетка */
.tf-bottomGrid { display:grid; gap:12px; grid-template-columns: 1fr 1fr; align-items:start; }
@media (max-width: 920px) { .tf-bottomGrid { grid-template-columns: 1fr; } }

/* Файлы */
.tf-files { display: grid; gap: 8px; }
.tf-filechips { display: flex; flex-wrap: wrap; gap: 6px; }

.tf-chip {
  position:relative; display: inline-flex; align-items: center; gap: 6px;
  border: 1px solid #e5e7eb; border-radius: 999px; padding: 2px 8px; font-size: 12px; background: #fff; overflow:hidden;
  line-height: 1;
}
.tf-chip__label { position:relative; z-index:1; }
.tf-chip__meter { position:absolute; left:0; top:0; bottom:0; width:0; background: rgba(141,40,40,.13); z-index:0; transition: width .15s ease; }

/* Крестики — 18×18, единый стиль */
.tf-chip__x {
  display:inline-grid; place-items:center;
  width:18px; height:18px; padding:0;
  border-radius:999px;
  border:1px solid #e5e7eb;
  background:#f9fafb;
  color:#6b7280;
  font-weight:900; font-size:12px; line-height:1;
  cursor:pointer;
  transition: border-color .12s ease, color .12s ease, background .12s ease, box-shadow .12s ease, transform .06s ease;
}
.tf-chip__x:hover { border-color: var(--brand); color: var(--brand); background:#fff; box-shadow:0 1px 2px rgba(0,0,0,.06); }
.tf-chip__x:active { transform: translateY(1px); }

.tf-file-hidden { display: none; }

.tf-filesRow { display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
.tf-help { font-size: 12px; color: #6b7280; }
.tf-overflow { font-size:12px; font-weight:700; color:#dc2626; }

/* Суммарная шкала 0..50 МБ */
.tf-gauge { position:relative; flex:1 1 220px; height:10px; border-radius:999px; background:#f3f4f6; border:1px solid #e5e7eb; overflow:hidden; }
.tf-gauge__fill { position:absolute; left:0; top:0; bottom:0; width:0; background: var(--brand); transition: width .15s ease; }
.tf-gauge.is-warn .tf-gauge__fill { background: #eab308; }
.tf-gauge.is-over .tf-gauge__fill { background: #dc2626; }
.tf-gaugeLabel { min-width:86px; font-size:12px; font-weight:700; color:#374151; }
.tf-gaugeLabel.is-over { color:#dc2626; }

/* Кнопки — 1 в 1 с sign-in */
.tf-btnBrand{
  display:inline-flex; align-items:center; justify-content:center;
  height: 42px;
  padding: 0 16px;
  border-radius: 12px;
  border: 1px solid var(--brand);
  background: var(--brand);
  color: #fff;
  font-weight: 700;
  letter-spacing: .2px;
  cursor: pointer;
  transition: transform .04s ease, box-shadow .12s ease, opacity .2s ease, filter .12s ease;
  box-shadow: 0 6px 14px rgba(141,40,40,0.25);
}
.tf-btnBrand:hover { transform: translateY(-1px); box-shadow: 0 10px 18px rgba(141,40,40,0.28); filter:brightness(1.03); }
.tf-btnBrand:active { transform: translateY(0); box-shadow: 0 6px 14px rgba(141,40,40,0.25); }
.tf-btnBrand[disabled] { opacity: .65; transform: none; box-shadow: none; cursor: default; }

/* Переключатель «Свернуть/Развернуть» */
.tf-collapseToggleWrap { display:flex; justify-content:flex-end; }
.tf-collapseToggle {
  height:32px; padding:0 10px; border-radius:12px; border:1px solid #e5e7eb; background:rgba(255,255,255,0.9);
  display:inline-flex; align-items:center; gap:8px; cursor:pointer; font-weight:700; font-size:13px; color:#111827;
  transition: border-color .12s ease, box-shadow .12s ease, transform .06s ease, background .12s ease;
}
.tf-collapseToggle:hover { border-color: rgba(141,40,40,.35); box-shadow:0 6px 14px rgba(141,40,40,.18); background:#fff; }
.tf-collapseToggle:active { transform: translateY(1px); }
.tf-arrow { width:10px; height:10px; border-right:2px solid #111827; border-bottom:2px solid #111827; transform: rotate(315deg); transition: transform .15s ease; }
.tf-arrow.down { transform: rotate(315deg); } /* вниз */
.tf-arrow.up { transform: rotate(135deg); }   /* вверх */
.tf-collapseText { line-height:1; }

/* Chips поле */
.tf-chips {
  display:flex; gap:6px; flex-wrap:wrap; align-items:center;
  padding:6px; border:1px solid #e5e7eb; border-radius:12px; min-height:42px; cursor:text;
  background: rgba(255,255,255,0.9);
}
.tf-chips__input { flex:1 0 180px; min-width:120px; border:none; outline:none; padding:6px 8px; background:transparent; }

/* Дропдаун поиска */
.tf-dd {
  position: fixed;
  z-index: 1000;
  background: rgba(255,255,255,0.98);
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  box-shadow: 0 10px 22px rgba(17,24,39,0.12);
  max-height: 300px;
  overflow-y: auto;
}
.tf-dd__item {
  padding: 8px 12px;
  cursor: pointer;
  font-size: 13px;
  transition: background .12s ease;
}
.tf-dd__item:hover { background: rgba(141,40,40,0.06); }

/* Прочее */
.tf-reviewBlock { align-self:start; }
