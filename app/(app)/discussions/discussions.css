/* app/(app)/discussions/discussions.css */

/* Страница и сетка */
.disc-page { display: flex; flex-direction: column; gap: 16px; }
.disc-top { position: sticky; top: 0; z-index: 1; background: #fff; border-bottom: 1px solid #f3f4f6; padding: 8px 0; }
.page-title { font-size: 20px; font-weight: 600; margin: 0; color: #111827; }

.grid { display: grid; grid-template-columns: 1fr 340px; gap: 16px; }
.left { min-width: 0; }
.right { min-width: 0; }

/* Правый столбец с лёгким отделением */
.sticky {
  position: sticky;
  top: 12px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  background: #fff;
  border-left: 1px solid #f3f4f6;
  padding-left: 12px;
}

/* Секции и заголовки */
.disc-section { display: flex; flex-direction: column; }
.disc-section > * + * { margin-top: 12px; }   /* Ровный вертикальный ритм */
.section-title { font-size: 14px; font-weight: 600; color: #111827; }

/* Посты */
.post-card {
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  background: #fff;
  padding: 12px;
  display: flex;
  flex-direction: column;
}
.post-card > * + * { margin-top: 8px; }

.post-card.pinned { background: #fff7ed; border-color: #fed7aa; }

.post-meta {
  font-size: 12px;
  color: #6b7280;
  display: flex;
  gap: 6px;
  align-items: center;
  flex-wrap: wrap;
}
.author { font-weight: 600; color: #374151; }
.dot { opacity: .6; }

.post-text {
  white-space: pre-wrap;
  word-break: break-word;
  line-height: 1.5;
  max-width: 65ch;      /* Читаемая длина строки */
  color: #111827;
}

/* Действия под постом */
.post-actions { display: flex; flex-wrap: wrap; gap: 8px; align-items: center; }
.inline { display: inline-flex; gap: 8px; align-items: center; }

/* Комментарии */
.disc-comments { display: flex; flex-direction: column; margin-top: 12px; }
.disc-comments > * + * { margin-top: 12px; }

.comment-card {
  border: 1px solid #f3f4f6;
  border-radius: 10px;
  padding: 10px;
  background: #fff;
}
.c-meta {
  font-size: 12px; color: #6b7280;
  display: flex; gap: 6px; align-items: center; flex-wrap: wrap;
}
.c-text {
  white-space: pre-wrap; word-break: break-word;
  line-height: 1.5; color: #111827; margin-top: 6px;
  max-width: 65ch;
}

/* Формы */
.disc-form {
  display: flex; flex-direction: column; gap: 10px;
  border: 1px solid #e5e7eb; border-radius: 12px; padding: 12px; background: #fff;
}
.row { display: grid; grid-template-columns: 100px 1fr; gap: 10px; align-items: center; }
.lbl { font-size: 13px; color: #374151; }

.inp {
  width: 100%;
  border: 1px solid #e5e7eb;
  border-radius: 10px;
  padding: 8px 10px;
  font-size: 14px;
  background: #fff;
  color: #111827;
}
.inp::placeholder { color: #9ca3af; }
.inp:focus { outline: none; border-color: #8d2828; box-shadow: 0 0 0 3px rgba(141,40,40,.08); }

.chk { display: inline-flex; gap: 6px; align-items: center; font-size: 13px; color: #374151; }
.actions { display: flex; gap: 8px; }

/* Кнопки — бренд #8d2828, единая высота */
.btn-primary,
.btn-outline,
.btn-danger {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 32px;
  padding: 0 12px;
  border-radius: 10px;
  font-size: 14px;
  line-height: 1;
  cursor: pointer;
  user-select: none;
  text-decoration: none;
}
.btn-primary {
  border: 1px solid #8d2828;
  background: #8d2828;
  color: #fff;
}
.btn-primary:disabled { opacity: .6; cursor: default; }

.btn-outline {
  border: 1px solid #8d2828;
  background: #fff;
  color: #8d2828;
}
.btn-outline:hover { background: #fef2f2; }
.btn-outline.active { background: #8d2828; color: #fff; }

.btn-danger {
  border: 1px solid #dc2626;
  background: #dc2626;
  color: #fff;
}
.btn-danger:hover { filter: brightness(0.97); }

.btn-primary:focus-visible,
.btn-outline:focus-visible,
.btn-danger:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px rgba(17,24,39,.08); /* спокойный focus */
}

/* Пустые состояния */
.block-title { font-size: 16px; font-weight: 600; margin: 0; color: #111827; }
.disc-empty { color: #6b7280; font-size: 14px; }

/* Нечувствительные клик-зоны: иконки кликабельны строго по себе */
.iconButton {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 28px; height: 28px;
  border-radius: 6px;
  border: 1px solid transparent;
  background: transparent;
  cursor: pointer;
}
.iconButton:hover { border-color: #e5e7eb; background: #f9fafb; }
.iconButton:focus-visible { outline: none; box-shadow: 0 0 0 3px rgba(17,24,39,.08); }

/* Адаптив: на узких экранах одна колонка */
@media (max-width: 960px) {
  .grid { grid-template-columns: 1fr; }
  .sticky { border-left: 0; padding-left: 0; }
  .row { grid-template-columns: 1fr; gap: 6px; }
}
